{"ast":null,"code":"var _jsxFileName = \"/Users/ivanishchenko/Desktop/PROGRAMING/language-exchange-frontend/src/components/IncomingReqs.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchIncoming, acceptReq, declineReq } from '../services/requestService';\nimport { Button, Card, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst IncomingReqs = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    incoming,\n    status\n  } = useSelector(state => state.reqs);\n  useEffect(() => {\n    dispatch(fetchIncoming());\n  }, [dispatch]);\n  const handleRespond = (reqId, userId, accepted) => {\n    accepted ? dispatch(acceptReq(reqId, userId)) : dispatch(declineReq(reqId, userId));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Incoming Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), status === 'loading' && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 38\n    }, this), incoming.map(req => /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        p: 2,\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [req.fromUser, \" wants to connect\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleRespond(req.id, req.to_user_id, true),\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleRespond(req.id, req.to_user_id, false),\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this)]\n    }, req.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true);\n};\n_s(IncomingReqs, \"G/oU4cJZafIurWSgGhJwRXyvK1c=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = IncomingReqs;\nexport default IncomingReqs;\nvar _c;\n$RefreshReg$(_c, \"IncomingReqs\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","fetchIncoming","acceptReq","declineReq","Button","Card","Typography","jsxDEV","_jsxDEV","Fragment","_Fragment","IncomingReqs","_s","dispatch","incoming","status","state","reqs","handleRespond","reqId","userId","accepted","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","map","req","sx","p","mb","fromUser","onClick","id","to_user_id","_c","$RefreshReg$"],"sources":["/Users/ivanishchenko/Desktop/PROGRAMING/language-exchange-frontend/src/components/IncomingReqs.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    fetchIncoming,\n    acceptReq,\n    declineReq,\n} from '../services/requestService';\nimport { Button, Card, Typography } from '@mui/material';\n\nconst IncomingReqs = () => {\n    const dispatch = useDispatch();\n    const { incoming, status } = useSelector((state) => state.reqs);\n\n    useEffect(() => {\n        dispatch(fetchIncoming());\n    }, [dispatch]);\n\n    const handleRespond = (reqId, userId, accepted) => {\n        accepted\n            ? dispatch(acceptReq(reqId, userId))\n            : dispatch(declineReq(reqId, userId));\n    };\n\n    return (\n        <>\n            <Typography variant='h4' gutterBottom>\n                Incoming Requests\n            </Typography>\n            {status === 'loading' && <p>Loading...</p>}\n            {incoming.map((req) => (\n                <Card key={req.id} sx={{ p: 2, mb: 2 }}>\n                    <Typography>{req.fromUser} wants to connect</Typography>\n                    <Button\n                        onClick={() =>\n                            handleRespond(req.id, req.to_user_id, true)\n                        }>\n                        Accept\n                    </Button>\n                    <Button\n                        onClick={() =>\n                            handleRespond(req.id, req.to_user_id, false)\n                        }>\n                        Reject\n                    </Button>\n                </Card>\n            ))}\n        </>\n    );\n};\n\nexport default IncomingReqs;\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SACIC,aAAa,EACbC,SAAS,EACTC,UAAU,QACP,4BAA4B;AACnC,SAASC,MAAM,EAAEC,IAAI,EAAEC,UAAU,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe,QAAQ;IAAEC;EAAO,CAAC,GAAGf,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EAE/DnB,SAAS,CAAC,MAAM;IACZe,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC;EAC7B,CAAC,EAAE,CAACY,QAAQ,CAAC,CAAC;EAEd,MAAMK,aAAa,GAAGA,CAACC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,KAAK;IAC/CA,QAAQ,GACFR,QAAQ,CAACX,SAAS,CAACiB,KAAK,EAAEC,MAAM,CAAC,CAAC,GAClCP,QAAQ,CAACV,UAAU,CAACgB,KAAK,EAAEC,MAAM,CAAC,CAAC;EAC7C,CAAC;EAED,oBACIZ,OAAA,CAAAE,SAAA;IAAAY,QAAA,gBACId,OAAA,CAACF,UAAU;MAACiB,OAAO,EAAC,IAAI;MAACC,YAAY;MAAAF,QAAA,EAAC;IAEtC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EACZb,MAAM,KAAK,SAAS,iBAAIP,OAAA;MAAAc,QAAA,EAAG;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EACzCd,QAAQ,CAACe,GAAG,CAAEC,GAAG,iBACdtB,OAAA,CAACH,IAAI;MAAc0B,EAAE,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAX,QAAA,gBACnCd,OAAA,CAACF,UAAU;QAAAgB,QAAA,GAAEQ,GAAG,CAACI,QAAQ,EAAC,mBAAiB;MAAA;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACxDpB,OAAA,CAACJ,MAAM;QACH+B,OAAO,EAAEA,CAAA,KACLjB,aAAa,CAACY,GAAG,CAACM,EAAE,EAAEN,GAAG,CAACO,UAAU,EAAE,IAAI,CAC7C;QAAAf,QAAA,EAAC;MAEN;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTpB,OAAA,CAACJ,MAAM;QACH+B,OAAO,EAAEA,CAAA,KACLjB,aAAa,CAACY,GAAG,CAACM,EAAE,EAAEN,GAAG,CAACO,UAAU,EAAE,KAAK,CAC9C;QAAAf,QAAA,EAAC;MAEN;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GAbFE,GAAG,CAACM,EAAE;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAcX,CACT,CAAC;EAAA,eACJ,CAAC;AAEX,CAAC;AAAChB,EAAA,CAvCID,YAAY;EAAA,QACGZ,WAAW,EACCC,WAAW;AAAA;AAAAsC,EAAA,GAFtC3B,YAAY;AAyClB,eAAeA,YAAY;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}