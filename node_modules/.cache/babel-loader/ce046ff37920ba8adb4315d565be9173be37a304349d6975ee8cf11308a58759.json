{"ast":null,"code":"var _jsxFileName = \"/Users/ivanishchenko/Desktop/PROGRAMING/language-exchange-frontend/src/components/IncomingReqs.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchIncoming, acceptReq, declineReq } from '../services/requestService';\nimport { Button, Card, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst IncomingReqs = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    incoming,\n    status\n  } = useSelector(state => state.reqs);\n  useEffect(() => {\n    dispatch(fetchIncoming());\n  }, [dispatch]);\n  const handleRespond = (reqId, accepted) => {\n    accepted ? dispatch(acceptReq(reqId)) : dispatch(declineReq(reqId));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      sx: {\n        m: 3,\n        textAlign: 'center'\n      },\n      gutterBottom: true,\n      children: \"Incoming Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), status === 'loading' && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 38\n    }, this), incoming.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        textAlign: 'center'\n      },\n      children: \"No requests yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this) : '', incoming.map(req => {\n      if (req.status === 'accepted') {}\n      if (req.status === 'pending') {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"outlined\",\n          sx: {\n            p: 2,\n            mb: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: req.fromUser.full_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Req was created on:\", ' ', req.created_at.match(/^\\d{4}-\\d{2}-\\d{2}/g)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            sx: {\n              m: 2\n            },\n            onClick: () => handleRespond(req.id, true),\n            children: \"Accept\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"error\",\n            sx: {\n              m: 2\n            },\n            onClick: () => handleRespond(req.id, false),\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)]\n        }, req.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this);\n      }\n    })]\n  }, void 0, true);\n};\n_s(IncomingReqs, \"G/oU4cJZafIurWSgGhJwRXyvK1c=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = IncomingReqs;\nexport default IncomingReqs;\nvar _c;\n$RefreshReg$(_c, \"IncomingReqs\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","fetchIncoming","acceptReq","declineReq","Button","Card","Typography","jsxDEV","_jsxDEV","Fragment","_Fragment","IncomingReqs","_s","dispatch","incoming","status","state","reqs","handleRespond","reqId","accepted","children","variant","sx","m","textAlign","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","length","map","req","p","mb","fromUser","full_name","created_at","match","onClick","id","color","_c","$RefreshReg$"],"sources":["/Users/ivanishchenko/Desktop/PROGRAMING/language-exchange-frontend/src/components/IncomingReqs.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    fetchIncoming,\n    acceptReq,\n    declineReq,\n} from '../services/requestService';\nimport { Button, Card, Typography } from '@mui/material';\n\nconst IncomingReqs = () => {\n    const dispatch = useDispatch();\n    const { incoming, status } = useSelector((state) => state.reqs);\n\n    useEffect(() => {\n        dispatch(fetchIncoming());\n    }, [dispatch]);\n\n    const handleRespond = (reqId, accepted) => {\n        accepted ? dispatch(acceptReq(reqId)) : dispatch(declineReq(reqId));\n    };\n\n    return (\n        <>\n            <Typography\n                variant='h4'\n                sx={{ m: 3, textAlign: 'center' }}\n                gutterBottom>\n                Incoming Requests\n            </Typography>\n            {status === 'loading' && <p>Loading...</p>}\n            {incoming.length === 0 ? (\n                <Typography sx={{ textAlign: 'center' }}>\n                    No requests yet\n                </Typography>\n            ) : (\n                ''\n            )}\n            {incoming.map((req) => {\n                if (req.status === 'accepted') {\n                    \n                }\n                if (req.status === 'pending') {\n                    return (\n                        <Card\n                            variant='outlined'\n                            key={req.id}\n                            sx={{ p: 2, mb: 2, textAlign: 'center' }}>\n                            <Typography variant='h5'>\n                                {req.fromUser.full_name}\n                            </Typography>\n                            <Typography>\n                                Req was created on:{' '}\n                                {req.created_at.match(/^\\d{4}-\\d{2}-\\d{2}/g)}\n                            </Typography>\n                            <Button\n                                variant='contained'\n                                sx={{ m: 2 }}\n                                onClick={() => handleRespond(req.id, true)}>\n                                Accept\n                            </Button>\n                            <Button\n                                variant='outlined'\n                                color='error'\n                                sx={{ m: 2 }}\n                                onClick={() => handleRespond(req.id, false)}>\n                                Reject\n                            </Button>\n                        </Card>\n                    );\n                }\n            })}\n        </>\n    );\n};\n\nexport default IncomingReqs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}